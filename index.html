<!DOCTYPE html>
<html class="page" lang="en-US">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta http-equiv="X-UA-Compatible" content="IE=EmulateIE8">

  <title>ePhonebook</title>
  <link rel="shortcut icon" href="./img/favicon.png" type="image/x-icon">

  <link rel="stylesheet" href="./css/bootstrap.min.css">
  <link rel="stylesheet" href="./css/main.min.css">
</head>
<body class="page__body page__body--nojs px-4" id="siteBody">
  <script src="./js/nojs.min.js"></script>

  <div class="site-container mx-auto rounded p-4 shadow">
    <!-- HEADER part of page started -->
    <h1 class="sr-only">this website is an electronic view of your phonebook</h1>

    <header class="site-container__header">
      <h2 class="display-4 d-flex justify-content-center align-items-center mb-3 site-container__title">ePhonebook</h2>
    </header>

    <!-- HEADER part of page ended -->


    <!-- MAIN part of page started -->

    <main class="site-container__main main-block py-4" id="siteMain">
      <div class="table-responsive">
        <table class="table table-borderless site-main__table" id="phonebookTable">
        </table>
      </div>
      <p class="text-center mb-0" id="initialContactText">
        <span class="main-block__TLDR">No contact</span> has been added to <span class="main-block__TLDR">the phonebook yet .</span> <span class="main-block__TLDR">Click</span> the <span class="main-block__TLDR">"Add Contact"</span> button below <span class="main-block__TLDR">to add a contact</span>
      </p>
      <div id="phonebookInfo"></div>
    </main>

    <!-- MAIN part of page ended -->


    <!-- FOOTER part of page started -->

    <footer class="site-container__footer site-footer">
      <input class="form-control mb-3" type="search" id="searchInput" placeholder="Search...">

      <button class="site-footer__add-button btn btn-block" type="button" data-toggle="modal" data-target="#addContactContainer">+ ADD CONTACT</button>
    </footer>

    <!-- FOOTER part of page ended -->
  </div>

  <!-- The contact add modal -->
  <div class="modal fade" id="addContactContainer">
    <div class="modal-dialog">
      <div class="modal-content content-modal">

        <!-- Modal Header -->
        <div class="modal-header content-modal__header">
          <h4 class="modal-title">Add a new contact</h4>
          <button type="button" class="close content-modal__close" data-dismiss="modal">&times;</button>
        </div>

        <!-- Modal body -->
        <div class="modal-body body-modal">
          <form class="was-validated" id="phoneBookForm" action="https://echo.htmlacademy.ru" method="POST" autocomplete="off">
            <div class="form-group">
              <label class="body-modal__label mb-4 d-block">
                Enter the first name
                <input class="form-control" type="text" name="number_owner_firstname" id="numberOwnerFirstname" placeholder="A-Z a-z" spellcheck="false" required>
                <div class="valid-feedback">Valid.</div>
                <div class="invalid-feedback">Please fill out this field.</div>
            </label>

              <label class="body-modal__label mb-4 d-block" for="numberOwnerLastname">
                Enter the last name
                <input class="form-control" type="text" name="number_owner_lastname" id="numberOwnerLastname" placeholder="A-Z a-z" spellcheck="false" required>
                <div class="valid-feedback">Valid.</div>
                <div class="invalid-feedback">Please fill out this field.</div>
            </label>

              <label class="body-modal__label mb-4 d-block" for="phoneNumber">
                Enter the phone number
                <input class="form-control" type="tel" name="phone_number" id="phoneNumber" placeholder="0-9" required>
                <div class="valid-feedback">Valid.</div>
                <div class="invalid-feedback">Please fill out this field.</div>
            </label>

              <label class="body-modal__label mb-4 d-block" for="numberOwnerConnection">
                Enter the connection
                <input class="form-control" type="text" name="number_owner_connection" id="numberOwnerConnection" placeholder="A-Z a-z" spellcheck="false" required>
                <div class="valid-feedback">Valid.</div>
                <div class="invalid-feedback">Please fill out this field.</div>
            </label>
            </div>
          </form>
        </div>

        <!-- Modal footer -->
        <div class="modal-footer content-modal__footer">
          <button class="content-modal__footer-save-button btn" type="submit" name="submit" value="submit" form="phoneBookForm">SAVE</button>
        </div>
      </div>
    </div>
  </div>

  <div class="container bg-danger text-white text-center py-3 px-2 rounded mb-4 disabled-script-info">
    Javascript application feature is disabled in your browser, please <a class="text-white font-weight-bold disabled-script-info__js-on-manual" href="https://www.enable-javascript.com/" target="_blank">enable javascript</a> to use the site
  </div>

  <script src="./js/jquery-3.5.1.min.js"></script>
  <script src="./js/bootstrap.bundle.min.js"></script>
  <script src="./js/scripts.min.js"></script>

  <!-- script for search -->
  <script>
    $(document).ready(function(){
      $("#searchInput").on("keyup", function() {
        var value = $(this).val().toLowerCase();
        $("#phonebookTable tr").filter(function() {
          $(this).toggle($(this).text().toLowerCase().indexOf(value) > -1)
        });
      });
    });
    </script>

  <!-- Modal field validation -->
  <script>
    // Disable form submissions if there are invalid fields
    (function() {
      'use strict';
      window.addEventListener('load', function() {
        // Get the forms we want to add validation styles to
        var forms = document.getElementsByClassName('needs-validation');
        // Loop over them and prevent submission
        var validation = Array.prototype.filter.call(forms, function(form) {
          form.addEventListener('submit', function(event) {
            if (form.checkValidity() === false) {
              event.preventDefault();
              event.stopPropagation();
            }
            form.classList.add('was-validated');
          }, false);
        });
      }, false);
    })();
  </script>
</body>
</html>